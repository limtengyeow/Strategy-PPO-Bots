{
  "env": {
    "POLYGON_API_KEY": "ZAuGprSaaMMS8_7GeDVAzHJWfr0Vggqb",
    "DATA_FOLDER": "data/",
    "TENSORBOARD_LOG": "tb_logs/",
    "MODEL_DIR": "models/",
    "EVAL_DIR": "eval/"
  },
  "features": {
    "OBS_WINDOW": 30,
    "DEBUG_FEATURES": true,
    "FEATURES": [
      { "type": "price", "field": "close", "normalize": true, "method": "zscore" },
      { "type": "price", "field": "volume", "normalize": true, "method": "rolling_zscore", "window": 30 },
      { "type": "indicator", "field": "vwap", "normalize": true, "method": "zscore" },
      { "type": "indicator", "field": "ema", "source": "close", "window": 10, "normalize": true, "method": "zscore" },
      { "type": "indicator", "field": "ema", "source": "close", "window": 20, "normalize": true, "method": "zscore" },
      { "type": "indicator", "field": "rsi", "source": "close", "window": 14, "normalize": true, "method": "zscore" },
      { "type": "indicator", "field": "atr", "window": 14, "normalize": true, "method": "zscore" }
    ],
    "DAILY_FEATURES": [
      { "field": "ema", "source": "close", "window": 10 },
      { "field": "ema", "source": "close", "window": 21 },
      { "field": "sma", "source": "close", "window": 50 },
      { "field": "sma", "source": "close", "window": 200 }
    ]
  },
  "actions": {
    "ALLOW_LONG": true,
    "ALLOW_SHORT": true
  },
  "rewards": {
    "REWARD_COMPONENTS": [
      { "type": "pnl", "scale": 500.0 },
      { "type": "cut_loss", "threshold": -0.005, "penalty_ratio": 3.0 },
      { "type": "overtrade_penalty", "min_duration": 5, "penalty_ratio": 2.0 },
      { "type": "trend_bonus", "bonus_per_step": 0.005 },
      { "type": "breakout_reward", "window": 50, "bonus": 0.01 },
      { "type": "volatility_penalty", "window": 20, "threshold": 0.02, "penalty": 0.01 },
      { "type": "profit_target_bonus", "target_pct": 0.03, "bonus": 0.02 },
      { "type": "time_penalty", "penalty_per_step": 0.001 }
    ],
    "REWARD_SCALE": 1.0,
    "CLIP_REWARD": null,
    "NORM_REWARD": false,
    "DEBUG_REWARDS": true
  },
  "training": {
    "DEFAULT_INTERVAL": "5min",
    "TOTAL_TIMESTEPS": 500000,
    "SAVE_FREQ": 50000,
    "EVAL_FREQ": 25000,
    "NUM_ENVS": 8,
    "USE_GPU": true,
    "SEED": 42,
    "RANDOM_START": true,
    "PPO_PARAMS": {
      "learning_rate": 0.0003,
      "n_steps": 8192,
      "batch_size": 128,
      "n_epochs": 10,
      "gamma": 0.99,
      "gae_lambda": 0.95,
      "clip_range": 0.2,
      "ent_coef": 0.2,
      "vf_coef": 0.5,
      "policy_kwargs": {
        "net_arch": [256, 128, 64],
        "activation_fn": "<class 'torch.nn.modules.activation.ReLU'>"
      }
    }
  },
  "evaluation": {
    "data_files": [
      "data/NVDA_test.csv"
    ],
    "n_eval_episodes": 5,
    "deterministic": true,
    "render": false,
    "output_file": "eval/eval_results.json"
  },
  "logging": {
    "use_mlflow": true,
    "mlflow_uri": "http://localhost:5000",
    "experiment_name": "PPO_Trading",
    "log_params": true,
    "log_metrics": true
  },
  "metrics": {
    "enable": true,
    "track": [
      "win_rate",
      "profit_factor",
      "sharpe_ratio",
      "max_drawdown",
      "expectancy",
      "avg_trade_duration",
      "r_multiple"
    ]
  },
  "DEBUG": true
}
